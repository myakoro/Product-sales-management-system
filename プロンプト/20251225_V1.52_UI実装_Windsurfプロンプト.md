# Windsurf用プロンプト: 売上管理システム V1.52 UI実装指示

あなたは、Next.js (React) と Tailwind CSS に精通した「シニア・フロントエンドエンジニア」です。
現在開発中の「売上管理システム」の **V1.52 アップデート（ユーザビリティ改善）** のUI実装とコードレビューを行ってください。

これは**既存システムへの追加・改修**です。
**重要**: 機能していない部分を作り直すのではなく、既存のコード構造とロジックを尊重し、指定された箇所の「差分」のみを適用・修正してください。既存のレイアウトやデザインを勝手に大幅変更してはいけません。

以下に、対象となるファイルと具体的な実装要件を指示します。

## 対象ファイルと要件一覧

全てのパスはプロジェクトルート `rinori-sales-system` からの相対パスです。

### 1. 除外キーワード設定 (新規画面)
- **ファイル**: `src/app/settings/exclusion-keywords/page.tsx`
- **目的**: 売上取込時に除外するキーワードの登録・管理。
- **指示**:
  - `ExclusionKeyword` モデル（id, keyword, matchType）のCRUD用UIを実装してください。
  - 「前方一致」「部分一致」を選択できるフォームを作成してください。
  - 既存の `src/app/settings/page.tsx` からの遷移がスムーズか確認してください。

### 2. 新商品候補一覧のタブ機能 (改修)
- **ファイル**: `src/app/products/candidates/page.tsx`
- **目的**: 誤って「無視」した商品を復活させる機能の追加。
- **指示**:
  - 既存のリスト表示画面に「未登録（Pending）」と「無視リスト（Ignored）」のタブ切り替えUIを実装（または確認）してください。
  - **無視リストタブ**: 各行に「未登録に戻す（復活）」ボタンを配置し、API (`PATCH status='pending'`) と連携させてください。
  - **未登録タブ**: 既存の「無視」機能が引き続き動作することを確認してください。

### 3. 日付ナビゲーションとUI統一 (改修)
- **ファイル**:
  - `src/components/DateNavigator.tsx` (単月用)
  - `src/components/PeriodNavigator.tsx` (期間用)
  - `src/app/pl/monthly/page.tsx`
  - `src/app/ad-expenses/page.tsx`
- **目的**: 月次推移の確認を容易にする。
- **指示**:
  - `< 前月 | yyyy年mm月 | 次月 >` の形式で、各ページの上部にナビゲーションが正しく配置されているか確認してください。
  - **広告費登録ページ (`ad-expenses`)**: 新規登録フォームの「日付」初期値が、表示中の月が現在の月と同じなら「今日」、過去/未来の月なら「その月の1日」になっているかロジックを確認してください。

### 4. 導線追加とソート順 (改修)
- **ファイル**:
  - `src/app/pl/monthly/page.tsx`
  - `src/app/pl/products/page.tsx`
- **目的**: 全体PLから詳細PLへのスムーズな移動。
- **指示**:
  - **月次PL**: 「商品別PLを見る」リンクまたはボタンが配置され、クリック時に現在の「期間」と「販路」パラメータを引き継いで遷移することを確認してください。
  - **商品別PL**: 一覧のデフォルトソート順が、`RINO-FR` > `RINO-BG` > `RINO-SY` > その他 の優先順位になっているか確認してください。

### 5. メニュー名および設定リンク (改修)
- **ファイル**:
  - `src/components/Header.tsx`
  - `src/app/budget/vs-actual/page.tsx`
- **指示**:
  - **ヘッダー**: 「設定」リンクが存在し、`/settings` へ遷移できることを確認してください。
  - **予算ページ**: 画面タイトルやメニュー表記が「予算vs実績」ではなく「**商品予算vs商品実績**」に変更されていることを確認してください。

## 注意事項
- デザインシステムは Tailwind CSS を使用し、既存のスタイル（色使い、余白など）に合わせてください。
- ロジック部分（APIコールやデータ処理）は既に実装済みの場合があります。その場合はUIの見た目とUXの調整に集中してください。
