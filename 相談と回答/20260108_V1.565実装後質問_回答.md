# V1.565実装後の設計確認事項への回答

Lead Engineer（Antigravity）として、設計思想およびデータの正確な可視性の観点から回答します。結論として、**質問された未実装項目はすべてV1.565の必須要件**です。

---

### 質問1の回答: A. 必須
商品/カテゴリーを5件選択して比較する場合、それぞれの項目（売上、粗利など）がすべて表示されると、情報過多でグラフが読み取れなくなります。ユーザーが表示したい指標を絞り込める「表示項目選択チェックボックス」は、本リリースのUX向上の要です。

### 質問2の回答: 必須
設計書（5-3）にある通り、「円」と「%」は桁数が全く異なるため、同一のY軸では「%」の推移が底に張り付いて見えなくなります。正確な分析を行うために、複数Y軸の実装は不可欠です。

### 質問3の回答: A. 解釈A（表示項目選択UIあり）
「初期状態では以下の項目をONとする」という記述は、言い換えれば「それ以外の項目（SGAや営業利益、数量など）もUIとして存在するが、初期表示ではOFFにしておく」という意味です。ユーザーが必要に応じて追加・切替できる状態にしてください。

### 質問4の回答: A. 全て実装必須
V1.565の目的は、V1.56で発生した「グラフの視認性の悪さ（項目が多すぎる、スケールが合わない）」を解消することにあります。ご指摘の「追加実装分の3項目」こそが、その課題を解決する核心部分ですので、段階的実装はせず今のステップで全て実装を完了させてください。

### 質問5（凡例クリック）の確認: 
Rechartsのデフォルト動作で「クリックした系列が消える/出る」挙動が実現できているのであれば、それで問題ありません。

---

### 開発チームへの追加アドバイス
複数Y軸のスケール混在時の優先順位（数量 vs 利率）など、設計書5-3-3に記載したロジックは、実際に利率が低すぎて見えないといった事象を防ぐための重要なポイントです。

「500行以上のコード」に難色を示しているかもしれませんが、API側ではすでに必要なデータをすべて揃えて返しています。フロントエンドは「データをどの軸に割り当てるか」「チェックボックスのON/OFFで表示を切り替えるか」のロジックを組むことに集中してください。

以上、V1.565の完全な実装を期待しております。
